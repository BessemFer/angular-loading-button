/**
 * angular-loading-button - v0.0.0 - 08/08/2014
 * Loading button directive for AngularJS
 * https://github.com/tiste/angular-loading-button
 * Licensed WTFPL
 */
angular.module("loadingButton",[]).factory("loadingButton",["$log",function(){return{dropper:function(a){return this.inc(a,.02*Math.random())},inc:function(a,b){return a=this.limit(a+b,.05,.95),this.set(a)},limit:function(a,b,c){var d=a;return b>a&&(d=b),a>c&&(d=c),d},set:function(a){return this.limit(a,.05,1)}}}]).directive("loadingButton",["$log","$timeout","loadingButton",function(a,b,c){return{restrict:"E",transclude:!0,replace:!0,scope:{fail:"=",success:"=",value:"="},template:'            <div class="progress-button">              <button><span ng-transclude></span></button>              <svg class="progress-circle" width="70" height="70"><path d="m35,2.5c17.955803,0 32.5,14.544199 32.5,32.5c0,17.955803 -14.544197,32.5 -32.5,32.5c-17.955803,0 -32.5,-14.544197 -32.5,-32.5c0,-17.955801 14.544197,-32.5 32.5,-32.5z"/></svg>            </div>          ',link:function(d,e){var f=!1;"undefined"==typeof d.value&&(d.value=0);var g=function(){f=!0;var a=function(){b(function(){d.value=c.dropper(d.value),a()},500)};a()};e.bind("click",function(){f||g()}),d.$watch("value",function(b){b>0&&!f&&g(),a.info(b)})}}}]);